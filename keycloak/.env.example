# Keycloak Identity and Access Management Configuration
# Copy this file to .env and customize for your environment

### Keycloak Admin Configuration ###
# Admin user credentials (change for production)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=your_secure_admin_password
KEYCLOAK_PORT=8030

### PostgreSQL Database Configuration (for Keycloak's database) ###
# The PostgreSQL service will initialize with these settings.
POSTGRES_DB=keycloak
POSTGRES_USER=keycloak_user                 # IMPORTANT: This user will be created in PostgreSQL.
POSTGRES_PASSWORD=your_secure_db_password
POSTGRES_PORT=5432                          # Port exposed by PostgreSQL container (if mapped)

### Keycloak Database Connection Settings ###
# Keycloak will use these settings to connect to its PostgreSQL database.
KC_DB=postgres                              # Tells Keycloak to use PostgreSQL
# IMPORTANT: Ensure KC_DB_USERNAME matches POSTGRES_USER from above in your actual .env file.
KC_DB_USERNAME=keycloak_user
# IMPORTANT: Ensure KC_DB_PASSWORD matches POSTGRES_PASSWORD from above in your actual .env file.
KC_DB_PASSWORD=your_secure_db_password
# IMPORTANT: The hostname here MUST match the PostgreSQL service name in docker-compose.yaml (e.g., keycloak-postgres).
# The database name (after the slash) should match POSTGRES_DB from above.
KC_DB_URL=jdbc:postgresql://keycloak-postgres:5432/${POSTGRES_DB}

### Keycloak Hostname Configuration ###
# These settings help Keycloak generate correct public-facing URLs (e.g., in emails).
# Adjust if Keycloak is behind a reverse proxy or has a different public URL.
KC_HOSTNAME_URL=http://localhost:${KEYCLOAK_PORT} # Default for local access
KC_HOSTNAME_STRICT_HTTPS=false                    # Set to true if using HTTPS and a reverse proxy terminates SSL
# KC_HTTP_RELATIVE_PATH=/auth                     # Only set if Keycloak is accessed via a subpath e.g. http://localhost/auth


### Keycloak SMTP Configuration (for Master Realm email sending) ###
# These settings configure Keycloak's built-in email sending capabilities.
# Realm JSON import files do not contain SMTP credentials for security.
# Ensure these are set in your .env file for email verification and password reset to work.
# KC_SMTP_SERVER_HOST=your_smtp_host (e.g., smtp.example.com)
# KC_SMTP_SERVER_PORT=587 (e.g., 587 for TLS, 465 for SSL, 25 for unencrypted)
# KC_SMTP_FROM=noreply@yourdomain.com (The 'From' address for emails sent by Keycloak)
# KC_SMTP_AUTH=true (Set to 'true' if your SMTP server requires authentication)
# KC_SMTP_USER=your_smtp_username (Username for SMTP authentication)
# KC_SMTP_PASSWORD=your_smtp_password (Password for SMTP authentication)
# KC_SMTP_STARTTLS=true (Set to 'true' to enable STARTTLS)
# KC_SMTP_SSL=false (Set to 'true' to enable SSL - usually not used if STARTTLS is true)
