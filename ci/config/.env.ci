# CI/CD Environment Configuration
# Оптимизированная конфигурация для GitLab CI/CD

# ==========================================
# BACKEND CONFIGURATION
# ==========================================

# Database
BACKEND_DB_HOST=test-postgres
BACKEND_DB_PORT=5432
BACKEND_DB_USER=test_user
BACKEND_DB_PASS=test_password
BACKEND_DB_BASE=test_diplom

# Redis
BACKEND_REDIS_HOST=test-redis
BACKEND_REDIS_PORT=6379

# Backend API
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_RELOAD=false
BACKEND_LOG_LEVEL=WARNING

# CORS
BACKEND_CORS_ALLOW_ORIGINS=*
BACKEND_CORS_ALLOW_CREDENTIALS=true
BACKEND_CORS_ALLOW_METHODS=*
BACKEND_CORS_ALLOW_HEADERS=*

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================

# API URLs for frontends
REACT_APP_API_URL=http://test-backend:8000

# Frontend ports
FRONTEND_ADMIN_PORT=8080
FRONTEND_SELLER_PORT=8081
FRONTEND_BUYER_PORT=8082

# ==========================================
# FUNCTIONAL TESTS CONFIGURATION
# ==========================================

# Backend URL for tests
BACKEND_URL=http://test-backend:8000

# Selenium configuration
SELENIUM_HUB_URL=http://selenium-hub:4444/wd/hub

# Frontend URLs for browser tests
FRONTEND_ADMIN_URL=http://admin-frontend
FRONTEND_SELLER_URL=http://seller-frontend
FRONTEND_BUYER_URL=http://buyer-frontend

# Test configuration
TEST_TYPE=all
PYTHONPATH=/app

# ==========================================
# PROSTO BOARD VOLUME CONFIGURATION
# ==========================================

# Prosto Board Backend
BACKEND_PORT_PROSTO=8001
CORS_URL=*

# Detection Service
DETECT_PORT=8002
PATH_TO_YOLO_SEGMENT_MODEL=/app/models/yolo_segment.pt

# Frontend for Prosto Board
FRONTEND_PORT=3000
VITE_API_URL=http://backend:8001

# ==========================================
# DATABASE CONFIGURATION
# ==========================================

# PostgreSQL
POSTGRES_DB=test_diplom
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
POSTGRES_HOST=test-postgres
POSTGRES_PORT=5432

# Redis
REDIS_HOST=test-redis
REDIS_PORT=6379

# ==========================================
# CI/CD SPECIFIC SETTINGS
# ==========================================

# Logging
LOG_LEVEL=WARNING
DEBUG=false

# Performance
WORKERS=1
MAX_CONNECTIONS=10

# Timeouts
TIMEOUT=30
HEALTH_CHECK_TIMEOUT=10

# Test database settings
TEST_DATABASE_URL=postgresql://test_user:test_password@test-postgres:5432/test_diplom
TEST_REDIS_URL=redis://test-redis:6379

# ==========================================
# DOCKER CONFIGURATION
# ==========================================

# Compose project name
COMPOSE_PROJECT_NAME=diplom-ci

# Network
NETWORK_NAME=diplom_ci_network

# Volumes
POSTGRES_DATA_VOLUME=diplom_ci_postgres_data
REDIS_DATA_VOLUME=diplom_ci_redis_data
