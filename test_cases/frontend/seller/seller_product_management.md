# Тест-кейсы: Управление продуктами в Seller Frontend

## Основные операции с продуктами

| ID | Название | Предусловия | Шаги | Данные тестирования | Ожидаемый результат |
|---|---|---|---|---|---|
| **TC-SF-PROD-001** | Просмотр списка собственных продуктов | • Продавец авторизован в системе<br>• У продавца есть созданные продукты<br>• Доступ к разделу "Мои продукты" | 1. Открыть раздел "Мои продукты"<br>2. Дождаться загрузки списка<br>3. Проверить отображение продуктов<br>4. Проверить пагинацию | **Продавец**: seller@test.com<br>**Количество продуктов**: 15<br>**Типы**: Сосна, Дуб, Береза<br>**Пагинация**: 10 на страницу | • Отображаются только продукты текущего продавца<br>• Показаны: название, цена, объем, тип древесины, статус<br>• Кнопки редактирования и удаления доступны<br>• Пагинация работает корректно |
| **TC-SF-PROD-002** | Создание нового продукта | • Продавец авторизован в системе<br>• Существуют типы древесины<br>• Доступна форма создания | 1. Нажать кнопку "Добавить продукт"<br>2. Заполнить форму создания<br>3. Нажать "Создать продукт"<br>4. Проверить появление в списке | **Название**: "Доски березовые 50x150"<br>**Описание**: "Качественные березовые доски"<br>**Объем**: 3.5 м³<br>**Цена**: 25000 ₽<br>**Тип древесины**: Береза<br>**Доставка**: да<br>**Самовывоз**: "г. Москва, ул. Примерная, 123" | • Продукт успешно создан<br>• Продавец автоматически привязан к продукту<br>• Продукт появился в списке "Мои продукты"<br>• Отображается сообщение об успешном создании |
| **TC-SF-PROD-003** | Редактирование существующего продукта | • Продавец авторизован в системе<br>• У продавца есть созданный продукт<br>• Доступна форма редактирования | 1. Найти продукт в списке "Мои продукты"<br>2. Нажать кнопку "Редактировать"<br>3. Изменить данные в форме<br>4. Нажать "Сохранить изменения" | **Исходная цена**: 25000 ₽<br>**Новая цена**: 27500 ₽ (+10%)<br>**Исходное описание**: "Качественные березовые доски"<br>**Новое описание**: "Качественные березовые доски высшего сорта"<br>**Новый адрес**: "г. Москва, ул. Новая, 456" | • Изменения сохранены в базе данных<br>• Обновленная информация отображается в списке<br>• Показано сообщение об успешном обновлении<br>• Дата обновления изменилась |
| **TC-SF-PROD-004** | Удаление продукта | • Продавец авторизован в системе<br>• У продавца есть продукт без связанных заказов<br>• Настроено подтверждение удаления | 1. Найти продукт в списке<br>2. Нажать кнопку "Удалить"<br>3. Подтвердить удаление в диалоге<br>4. Проверить список продуктов | **Продукт**: Тестовый без заказов<br>**ID**: 550e8400-e29b-41d4-a716-446655440030<br>**Подтверждение**: Да<br>**Связанные данные**: Изображения, доски | • Продукт удален из базы данных<br>• Продукт исчез из списка<br>• Показано сообщение об успешном удалении<br>• Связанные изображения и доски также удалены |

## Работа с изображениями и AI-анализом

| ID | Название | Предусловия | Шаги | Данные тестирования | Ожидаемый результат |
|---|---|---|---|---|---|
| **TC-SF-PROD-005** | Загрузка изображения для продукта | • Продавец авторизован в системе<br>• Создается или редактируется продукт<br>• Доступна функция загрузки изображений | 1. В форме продукта найти раздел "Изображения"<br>2. Нажать "Загрузить изображение"<br>3. Выбрать файл изображения<br>4. Дождаться загрузки<br>5. Проверить превью изображения | **Файл**: boards_test.jpg<br>**Размер**: 2.5 MB<br>**Формат**: JPEG<br>**Разрешение**: 1920x1080<br>**Содержимое**: Доски на складе | • Изображение успешно загружено на сервер<br>• Отображается превью загруженного изображения<br>• Путь к изображению сохранен в базе данных<br>• Изображение доступно для просмотра покупателями |
| **TC-SF-PROD-006** | AI-анализ досок на изображении | • Продавец авторизован в системе<br>• Загружено изображение с досками<br>• AI-сервис доступен и работает | 1. После загрузки изображения нажать "Анализировать доски"<br>2. Ввести параметры досок<br>3. Нажать "Запустить анализ"<br>4. Дождаться результатов AI-анализа<br>5. Проверить автозаполнение формы | **Высота досок**: 5 см<br>**Длина досок**: 300 см<br>**Изображение**: С четко видимыми досками<br>**AI-сервис**: YOLO детекция<br>**Ожидаемое количество**: 15 досок | • AI определил количество досок на изображении<br>• Рассчитан общий объем древесины<br>• Показаны координаты обнаруженных досок<br>• Данные автоматически заполнены в форме продукта |
| **TC-SF-PROD-007** | Валидация формы создания продукта | • Продавец авторизован в системе<br>• Открыта форма создания продукта<br>• Настроена клиентская валидация | 1. Попытаться создать продукт с пустыми полями<br>2. Ввести отрицательную цену<br>3. Ввести отрицательный объем<br>4. Ввести слишком длинное название<br>5. Не выбрать тип древесины | **Тест 1**: Все поля пустые<br>**Тест 2**: Цена: -1000<br>**Тест 3**: Объем: -5.5<br>**Тест 4**: Название: 300+ символов<br>**Тест 5**: Тип древесины: не выбран | • Отображаются сообщения валидации для каждого поля<br>• Форма не отправляется с невалидными данными<br>• Подсвечиваются поля с ошибками<br>• Даются четкие инструкции по исправлению |
| **TC-SF-PROD-008** | Фильтрация и поиск в списке продуктов | • Продавец авторизован в системе<br>• У продавца есть несколько продуктов разных типов<br>• Настроены функции поиска и фильтрации | 1. Открыть список "Мои продукты"<br>2. Использовать поиск по названию<br>3. Фильтровать по типу древесины<br>4. Фильтровать по ценовому диапазону<br>5. Сортировать по дате создания | **Поиск**: "сосна"<br>**Фильтр тип**: Сосна<br>**Фильтр цена**: 15000-30000 ₽<br>**Сортировка**: По дате создания (убывание)<br>**Ожидаемые результаты**: 3 продукта | • Поиск находит продукты по названию<br>• Фильтры работают корректно<br>• Сортировка применяется правильно<br>• Можно комбинировать несколько фильтров |

## Дополнительные функции

| ID | Название | Предусловия | Шаги | Данные тестирования | Ожидаемый результат |
|---|---|---|---|---|---|
| **TC-SF-PROD-009** | Копирование существующего продукта | • Продавец авторизован в системе<br>• У продавца есть существующий продукт<br>• Доступна функция копирования | 1. Найти продукт в списке<br>2. Нажать кнопку "Копировать" или "Дублировать"<br>3. Изменить название и другие параметры<br>4. Сохранить новый продукт | **Исходный продукт**: "Доски сосновые 50x150"<br>**Новое название**: "Доски сосновые 50x200"<br>**Изменения**: Длина, цена<br>**Сохранение**: Все остальные поля копируются | • Создан новый продукт на основе существующего<br>• Все поля скопированы, кроме ID<br>• Можно редактировать параметры перед сохранением<br>• Новый продукт появился в списке |
| **TC-SF-PROD-010** | Массовые операции с продуктами | • Продавец авторизован в системе<br>• У продавца есть несколько продуктов<br>• Доступны массовые операции | 1. Выбрать несколько продуктов с помощью чекбоксов<br>2. Использовать массовые операции<br>3. Подтвердить операцию<br>4. Проверить результат | **Выбранные продукты**: 5 штук<br>**Операция**: Изменить цены на +15%<br>**Подтверждение**: Да<br>**Ожидаемый результат**: Все цены увеличены | • Операции применяются ко всем выбранным продуктам<br>• Показывается прогресс выполнения<br>• Отображается результат операции<br>• Можно отменить операцию до подтверждения |
| **TC-SF-PROD-011** | Экспорт списка продуктов | • Продавец авторизован в системе<br>• У продавца есть продукты<br>• Доступна функция экспорта | 1. Открыть список "Мои продукты"<br>2. Нажать кнопку "Экспорт"<br>3. Выбрать формат экспорта<br>4. Выбрать поля для экспорта<br>5. Скачать файл | **Формат**: CSV<br>**Поля**: Название, Цена, Объем, Тип древесины<br>**Количество записей**: 15<br>**Размер файла**: ~5KB | • Файл успешно сгенерирован и скачан<br>• Содержит все выбранные поля<br>• Данные корректно отформатированы<br>• Файл можно открыть в Excel/LibreOffice |
| **TC-SF-PROD-012** | Просмотр статистики продуктов | • Продавец авторизован в системе<br>• У продавца есть продукты с различными параметрами<br>• Доступен раздел статистики | 1. Открыть раздел "Статистика" или "Аналитика"<br>2. Просмотреть общую статистику<br>3. Проверить графики и диаграммы<br>4. Применить фильтры по периодам | **Общее количество продуктов**: 15<br>**Общий объем древесины**: 45.5 м³<br>**Средняя цена за м³**: 18500 ₽<br>**Популярные типы**: Сосна (60%), Дуб (25%), Береза (15%) | • Статистика отображается корректно<br>• Данные соответствуют реальным продуктам<br>• Графики и диаграммы информативны<br>• Можно фильтровать статистику по периодам |

## Отдельный AI-анализатор досок

| ID | Название | Предусловия | Шаги | Данные тестирования | Ожидаемый результат |
|---|---|---|---|---|---|
| **TC-SF-ANALYZER-001** | Доступ к отдельному анализатору досок | • Продавец авторизован в системе<br>• AI-сервис доступен<br>• В навигации есть ссылка "Анализатор досок" | 1. В главном меню найти ссылку "🔍 Анализатор досок"<br>2. Нажать на ссылку<br>3. Дождаться загрузки страницы<br>4. Проверить интерфейс анализатора | **URL**: /board-analyzer<br>**Навигация**: Отдельный пункт меню<br>**Заголовок**: "🔍 AI Анализатор досок"<br>**Описание**: Присутствует | • Страница анализатора открывается<br>• Интерфейс загружается полностью<br>• Форма для загрузки изображения доступна<br>• Поля для ввода размеров досок присутствуют |
| **TC-SF-ANALYZER-002** | Анализ изображения в отдельном анализаторе | • Продавец находится на странице анализатора<br>• AI-сервис работает корректно<br>• Подготовлено изображение с досками | 1. Загрузить изображение с досками<br>2. Ввести высоту досок: 50 мм<br>3. Ввести длину досок: 3000 мм<br>4. Нажать "🔍 Анализировать изображение"<br>5. Дождаться результатов анализа | **Изображение**: boards_warehouse.jpg<br>**Высота досок**: 50 мм<br>**Длина досок**: 3000 мм<br>**Ожидаемое количество**: 18 досок<br>**AI-модель**: YOLO v8 | • Изображение успешно обработано<br>• AI определил количество досок<br>• Рассчитан общий объем древесины<br>• Показаны координаты обнаруженных досок<br>• Результаты отображаются в удобном формате |
| **TC-SF-ANALYZER-003** | История анализов в анализаторе | • Продавец выполнил несколько анализов<br>• Результаты сохраняются в localStorage<br>• Доступна секция "История анализов" | 1. Выполнить 3-4 анализа разных изображений<br>2. Прокрутить вниз до секции "📋 История анализов"<br>3. Проверить отображение истории<br>4. Нажать "📂 Загрузить" на одном из элементов<br>5. Проверить загрузку данных из истории | **Анализ 1**: 12 досок, 0.054 м³<br>**Анализ 2**: 18 досок, 0.081 м³<br>**Анализ 3**: 8 досок, 0.036 м³<br>**Сохранение**: localStorage<br>**Максимум записей**: 10 | • История анализов отображается корректно<br>• Показаны дата, время, количество досок, объем<br>• Загрузка из истории работает<br>• Данные восстанавливаются в форме<br>• Можно очистить всю историю |
| **TC-SF-ANALYZER-004** | Визуализация результатов на canvas | • Продавец загрузил изображение<br>• Анализ выполнен успешно<br>• Canvas элемент доступен для отрисовки | 1. Выполнить анализ изображения с досками<br>2. Дождаться завершения анализа<br>3. Проверить отображение изображения с контурами<br>4. Проверить нумерацию досок<br>5. Проверить цвета и четкость контуров | **Изображение**: Четкие доски на складе<br>**Контуры**: Зеленые линии<br>**Нумерация**: 1, 2, 3... на каждой доске<br>**Толщина линий**: 3px<br>**Цвет текста**: #00ff00 | • Изображение отображается на canvas<br>• Контуры досок выделены зелеными линиями<br>• Каждая доска пронумерована<br>• Номера расположены в центре досок<br>• Визуализация четкая и понятная |
| **TC-SF-ANALYZER-005** | Очистка анализатора и повторное использование | • Продавец выполнил анализ<br>• Результаты отображаются<br>• Доступна кнопка "🗑️ Очистить" | 1. После выполнения анализа нажать "🗑️ Очистить"<br>2. Проверить очистку всех полей<br>3. Загрузить новое изображение<br>4. Ввести другие размеры досок<br>5. Выполнить новый анализ | **Первый анализ**: 12 досок, 50x3000 мм<br>**Очистка**: Все поля сброшены<br>**Второй анализ**: 8 досок, 40x2500 мм<br>**Новое изображение**: different_boards.jpg | • Все поля и результаты очищены<br>• Изображение удалено из превью<br>• Canvas очищен<br>• Можно загрузить новое изображение<br>• Новый анализ выполняется корректно |
| **TC-SF-ANALYZER-006** | Обработка ошибок в анализаторе | • Продавец находится на странице анализатора<br>• AI-сервис временно недоступен<br>• Подготовлены некорректные данные | 1. Попытаться анализ без изображения<br>2. Попытаться анализ без размеров досок<br>3. Ввести отрицательные размеры<br>4. Имитировать недоступность AI-сервиса<br>5. Проверить обработку каждой ошибки | **Тест 1**: Нет изображения<br>**Тест 2**: Пустые размеры<br>**Тест 3**: Высота: -5, Длина: -100<br>**Тест 4**: AI-сервис недоступен<br>**Ошибки**: Понятные сообщения | • Отображаются четкие сообщения об ошибках<br>• Валидация работает на клиенте<br>• Сетевые ошибки обрабатываются корректно<br>• Интерфейс остается отзывчивым<br>• Можно исправить ошибки и повторить |
