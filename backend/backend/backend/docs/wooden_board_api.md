# Документация API: Эндпоинты деревянных досок

## Эндпоинты, связанные с деревянными досками

### Расчет объема деревянных досок (YOLO интеграция)

- **Метод:** POST
- **Путь:** `/wooden-boards/calculate-volume`
- **Описание:** Рассчитывает объем деревянных досок на основе изображения с использованием YOLO модели.

- **Ожидаемые входные данные (multipart/form-data):**
  ```
  image: UploadFile - Изображение для анализа
  board_height: float - Высота доски (по умолчанию 0.0)
  board_length: float - Длина доски (по умолчанию 0.0)
  ```

- **Формат выходных данных:**
  ```json
  {
    "total_volume": "float", // Общий объем всех досок
    "total_count": "integer", // Общее количество досок
    "wooden_boards": [
      {
        "volume": "float", // Объем доски
        "height": "float", // Высота доски
        "width": "float", // Ширина доски
        "length": "float", // Длина доски
        "detection": {
          "confidence": "float", // Уверенность модели (0-1)
          "class_name": "string", // Название класса объекта
          "points": [
            {
              "x": "float", // Координата X точки
              "y": "float"  // Координата Y точки
            }
          ]
        }
      }
    ]
  }
  ```

### Создание деревянной доски

- **Метод:** POST
- **Путь:** `/wooden-boards/`
- **Описание:** Создает новую деревянную доску.

- **Ожидаемые входные данные (WoodenBoardInputDTO):**
  ```json
  {
    "id": "UUID", // Уникальный идентификатор доски
    "height": "float", // Высота доски
    "width": "float", // Ширина доски
    "lenght": "float", // Длина доски
    "image_id": "UUID" // Идентификатор изображения доски
  }
  ```

- **Формат выходных данных (DataResponse[WoodenBoardDTO]):**
  ```json
  {
    "data": {
      "id": "UUID", // Уникальный идентификатор созданной доски
      "height": "float", // Высота доски
      "width": "float", // Ширина доски
      "lenght": "float", // Длина доски
      "image_id": "UUID" // Идентификатор изображения доски
    }
  }
  ```

### Обновление деревянной доски

- **Метод:** PATCH
- **Путь:** `/wooden-boards/{wooden_board_id}`
- **Описание:** Обновляет существующую деревянную доску по её идентификатору.

- **Параметры пути:**
  - `wooden_board_id`: UUID - Уникальный идентификатор деревянной доски, которую нужно обновить.

- **Ожидаемые входные данные (WoodenBoardUpdateDTO):**
  ```json
  {
    "height": "float | null", // Новая высота доски (необязательно)
    "width": "float | null", // Новая ширина доски (необязательно)
    "lenght": "float | null", // Новая длина доски (необязательно)
    "image_id": "UUID | null" // Новый идентификатор изображения доски (необязательно)
  }
  ```

- **Формат выходных данных (EmptyResponse):**
  ```json
  {
    "data": null
  }
  ```

### Удаление деревянной доски

- **Метод:** DELETE
- **Путь:** `/wooden-boards/{wooden_board_id}`
- **Описание:** Удаляет существующую деревянную доску по её идентификатору.

- **Параметры пути:**
  - `wooden_board_id`: UUID - Уникальный идентификатор деревянной доски, которую нужно удалить.

- **Формат выходных данных (EmptyResponse):**
  ```json
  {
    "data": null
  }
  ```

### Получение списка деревянных досок с пагинацией

- **Метод:** GET
- **Путь:** `/wooden-boards/`
- **Описание:** Возвращает список всех деревянных досок с использованием пагинации.

- **Параметры запроса (PaginationParams):
  - `offset`: integer (по умолчанию 0, >=0) - Смещение для пагинации.
  - `limit`: integer (по умолчанию 20, >=1, <=20) - Количество записей на странице.

- **Формат выходных данных (OffsetResults[WoodenBoardDTO]):**
  ```json
  {
    "data": [
      {
        "id": "UUID",
        "height": "float",
        "width": "float",
        "lenght": "float",
        "image_id": "UUID"
      }
    ],
    "pagination": {
      "total": "integer" // Общее количество деревянных досок
    }
  }
  ```

### Получение деревянной доски по ID

- **Метод:** GET
- **Путь:** `/wooden-boards/{wooden_board_id}`
- **Описание:** Возвращает информацию о деревянной доске по её идентификатору.

- **Параметры пути:**
  - `wooden_board_id`: UUID - Уникальный идентификатор деревянной доски.

- **Формат выходных данных (DataResponse[WoodenBoardDTO]):**
  ```json
  {
    "data": {
      "id": "UUID",
      "height": "float",
      "width": "float",
      "lenght": "float",
      "image_id": "UUID"
    }
  }
  ```