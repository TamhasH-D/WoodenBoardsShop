#!/usr/bin/env python3
"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π YOLO –∞–Ω–∞–ª–∏–∑–∞ –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö
"""

import json
from pathlib import Path
from generate_data import DataGenerator

def show_yolo_features():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ YOLO –∞–Ω–∞–ª–∏–∑–∞"""
    print("üöÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π YOLO –∞–Ω–∞–ª–∏–∑–∞ (–í–µ—Ä—Å–∏—è 4.0)")
    print("=" * 70)
    
    print("\nü§ñ –ß–¢–û –ù–û–í–û–ì–û:")
    print("  ‚ú® –†–µ–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ YOLO –Ω–µ–π—Ä–æ—Å–µ—Ç—å")
    print("  üìè –¢–æ—á–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è –æ–±—ä–µ–º–∞ –¥–æ—Å–æ–∫")
    print("  üí∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–Ω")
    print("  ‚ö° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π")
    print("  üéØ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –¥–æ—Å–æ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ")
    
    print("\nüîÑ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:")
    print("  1. üì∏ –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å–æ–∫")
    print("  2. ü§ñ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ YOLO backend")
    print("  3. üîç –ù–µ–π—Ä–æ—Å–µ—Ç—å –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –¥–æ—Å–∫–∏ –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—ä–µ–º")
    print("  4. üíæ –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–≤–∞—Ä —Å —Ç–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏")
    print("  5. üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ")
    print("  6. ü™µ –ó–∞–ø–∏—Å–∏ –¥–æ—Å–æ–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ YOLO –∞–Ω–∞–ª–∏–∑–∞")
    
    print("\nüìä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:")
    print("  ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω—ã—Ö")
    print("  ‚úÖ –¢–æ—á–Ω—ã–µ –æ–±—ä–µ–º—ã –∏ —Ü–µ–Ω—ã")
    print("  ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥–∞–Ω–Ω—ã—Ö")
    print("  ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞")
    
    generator = DataGenerator()
    
    print("\n‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:")
    print(f"  üì° Backend API: {generator.api_base}")
    print(f"  ü§ñ YOLO —Å–µ—Ä–≤–∏—Å: http://localhost:8001")
    print(f"  üìÅ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {generator.images_source}")
    print(f"  üíæ –ó–∞–≥—Ä—É–∑–∫–∏: {generator.images_upload_base}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    if generator.images_source.exists():
        image_files = list(generator.images_source.glob('*.jpg')) + list(generator.images_source.glob('*.png'))
        print(f"  üñºÔ∏è –ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {len(image_files)}")
    else:
        print(f"  ‚ùå –ü–∞–ø–∫–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
    
    print("\nüìã –ü–†–ò–ú–ï–† –ü–†–û–¶–ï–°–°–ê –°–û–ó–î–ê–ù–ò–Ø –¢–û–í–ê–†–ê:")
    show_example_process()

def show_example_process():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞"""
    print("\n  üîÑ –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö")
    print("     - –í—ã–±–æ—Ä –ø—Ä–æ–¥–∞–≤—Ü–∞: seller_12345")
    print("     - –¢–∏–ø –¥—Ä–µ–≤–µ—Å–∏–Ω—ã: –°–æ—Å–Ω–∞")
    print("     - –†–∞–∑–º–µ—Ä—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞: 100x25x3000–º–º")
    print("     - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: wooden_boards_001.jpg")
    
    print("\n  ü§ñ –®–∞–≥ 2: YOLO –∞–Ω–∞–ª–∏–∑")
    print("     - –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç—å...")
    print("     - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –¥–æ—Å–æ–∫: 15")
    print("     - –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π –æ–±—ä–µ–º: 0.0875 –º¬≥")
    print("     - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ—Å–æ–∫: [(x1,y1,x2,y2), ...]")
    
    print("\n  üíæ –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π")
    print("     - –¢–æ–≤–∞—Ä —Å–æ–∑–¥–∞–Ω —Å ID: product_67890")
    print("     - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: /uploads/sellers/12345/products/67890/image.jpg")
    print("     - –°–æ–∑–¥–∞–Ω–æ –∑–∞–ø–∏—Å–µ–π –¥–æ—Å–æ–∫: 15")
    print("     - –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞: 1,750‚ÇΩ (20,000‚ÇΩ/–º¬≥ √ó 0.0875–º¬≥)")

def show_comparison():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–æ–≤"""
    print("\nüìä –°–†–ê–í–ù–ï–ù–ò–ï –ü–û–î–•–û–î–û–í:")
    print("=" * 70)
    
    print("\nüî¥ –°–¢–ê–†–´–ô –ü–û–î–•–û–î (–¥–æ –≤–µ—Ä—Å–∏–∏ 4.0):")
    print("  1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏")
    print("  2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è")
    print("  3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –¥–æ—Å–æ–∫")
    print("  ‚ùå –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é")
    print("  ‚ùå –ù–µ—Ç–æ—á–Ω—ã–µ –æ–±—ä–µ–º—ã –∏ —Ü–µ–Ω—ã")
    
    print("\nüü¢ –ù–û–í–´–ô –ü–û–î–•–û–î (–≤–µ—Ä—Å–∏—è 4.0):")
    print("  1. –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ YOLO")
    print("  2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å —Ç–æ—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏")
    print("  3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π")
    print("  ‚úÖ –î–∞–Ω–Ω—ã–µ —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é")
    print("  ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±—ä–µ–º—ã –∏ —Ü–µ–Ω—ã")
    print("  ‚úÖ –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞")

def show_requirements():
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã"""
    print("\nüìã –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –†–ê–ë–û–¢–´:")
    print("=" * 70)
    
    print("\nüîß –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:")
    print("  1. üñ•Ô∏è Backend API (localhost:8000)")
    print("  2. ü§ñ YOLO —Å–µ—Ä–≤–∏—Å (localhost:8001) - –ù–û–í–û–ï!")
    print("  3. üìÅ –ü–∞–ø–∫–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –¥–æ—Å–æ–∫")
    
    print("\nüì¶ –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:")
    print("  - aiohttp==3.9.1 (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã)")
    print("  - aiofiles==22.1.0 (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏)")
    
    print("\nüöÄ –ó–∞–ø—É—Å–∫:")
    print("  1. docker compose up backend yolo-service")
    print("  2. cd data-generator && pip install -r requirements.txt")
    print("  3. python generate_data.py")

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    show_yolo_features()
    show_comparison()
    show_requirements()
    
    print("\n" + "=" * 70)
    print("üéâ –ì–æ—Ç–æ–≤—ã –∫ —Ä–µ–≤–æ–ª—é—Ü–∏–∏ –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö!")
    print("\nüí° –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:")
    print("   python test_yolo_integration.py")
    print("\nüöÄ –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:")
    print("   python generate_data.py")

if __name__ == "__main__":
    main()
