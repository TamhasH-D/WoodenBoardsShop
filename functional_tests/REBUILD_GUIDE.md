# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Rebuild –∫–æ–º–∞–Ω–¥–∞–º

## ‚ö†Ô∏è –ö–æ–≥–¥–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω—É–∂–Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ —Ç–µ—Å—Ç—ã –∏–ª–∏ backend –∫–æ–¥
make test-rebuild

# –ò–∑–º–µ–Ω–∏–ª–∏ —Ç–æ–ª—å–∫–æ UUID —Ç–µ—Å—Ç—ã
make test-uuid-rebuild

# –ò–∑–º–µ–Ω–∏–ª–∏ —Ç–æ–ª—å–∫–æ API —Ç–µ—Å—Ç—ã
make test-api-rebuild
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏

#### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö
- –û–±–Ω–æ–≤–∏–ª–∏ `utils/data_factory.py`
- –ò–∑–º–µ–Ω–∏–ª–∏ –ª—é–±—ã–µ —Ñ–∞–π–ª—ã –≤ `api_tests/`
- –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –≤ `integration_tests/`
- –û–±–Ω–æ–≤–∏–ª–∏ `conftest.py` –∏–ª–∏ `base/test_base.py`

#### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
- –û–±–Ω–æ–≤–∏–ª–∏ `requirements.txt`
- –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–µ Python –ø–∞–∫–µ—Ç—ã
- –ò–∑–º–µ–Ω–∏–ª–∏ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

#### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ backend
- –û–±–Ω–æ–≤–∏–ª–∏ –∫–æ–¥ backend API
- –ò–∑–º–µ–Ω–∏–ª–∏ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–∏–ª–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–∏–ª–∏ `Dockerfile`
- –ò–∑–º–µ–Ω–∏–ª–∏ `docker-compose.test.yaml`
- –û–±–Ω–æ–≤–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### ‚úÖ –ü–æ—Å–ª–µ git –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–¥–µ–ª–∞–ª–∏ `git pull` —Å –Ω–æ–≤—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ –¥—Ä—É–≥—É—é –≤–µ—Ç–∫—É
- –°–º–µ—Ä–∂–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üöÄ –î–æ—Å—Ç—É–ø–Ω—ã–µ rebuild –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
make rebuild              # –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
make test-rebuild         # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ + –≤—Å–µ —Ç–µ—Å—Ç—ã
make test-api-rebuild     # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ + API —Ç–µ—Å—Ç—ã
make test-uuid-rebuild    # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ + UUID —Ç–µ—Å—Ç—ã
```

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# UUID —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test-uuid-rebuild                    # –í—Å–µ UUID —Ç–µ—Å—Ç—ã
make test-uuid-validation                 # –í–∞–ª–∏–¥–∞—Ü–∏—è UUID (–ª–æ–∫–∞–ª—å–Ω–æ)
make test-uuid-integration                # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ UUID —Ç–µ—Å—Ç—ã (–ª–æ–∫–∞–ª—å–Ω–æ)

# API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test-api-rebuild                     # –í—Å–µ API —Ç–µ—Å—Ç—ã
make test-api-local                       # API —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make test-rebuild                         # –í—Å–µ —Ç–µ—Å—Ç—ã —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
```

## üìã –ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è

### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
# –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make test-uuid
make test-api
```

### 2. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
```bash
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ rebuild
make test-uuid-rebuild
make test-api-rebuild
```

### 3. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
make test-uuid
make test-api
```

### 4. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –î–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
make test-uuid-local
make dev-test-uuid
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –≤–∏–¥—è—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
# 1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make rebuild

# 2. –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make clean
make test-rebuild

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker images | grep functional-tests
```

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
```bash
# 1. –û—á–∏—Å—Ç–∫–∞ Docker –∫—ç—à–∞
docker system prune -f

# 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
make rebuild

# 3. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
make clean
make test-rebuild
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ requirements.txt
cat requirements.txt

# 2. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π
make clean
make rebuild

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
make shell
pip list
```

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
1. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-rebuild`
2. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ `make test-rebuild`
3. **–ü–æ—Å–ª–µ git pull** - –≤—Å–µ–≥–¥–∞ `make test-rebuild`
4. **–ü—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏

### –î–ª—è CI/CD
```bash
# –í pipeline –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ rebuild
make test-rebuild
make ci-test
```

### –î–ª—è production –ø—Ä–æ–≤–µ—Ä–æ–∫
```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
make clean
make test-rebuild
make reports
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±–Ω–æ–≤–∏–ª–∏ data_factory.py
```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ utils/data_factory.py
git add utils/data_factory.py
git commit -m "fix: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UUID"

# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make test-uuid-rebuild
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
```bash
# –°–æ–∑–¥–∞–ª–∏ test_new_feature.py
git add api_tests/test_new_feature.py
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏"

# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make test-api-rebuild
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–∏–ª–∏ backend
```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ backend –∫–æ–¥
git pull origin main

# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
make test-rebuild
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ë—ã—Å—Ç—Ä–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
make test-uuid-local  # –ë—ã—Å—Ç—Ä–æ

# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
make test-uuid-rebuild  # –° –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
```

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ rebuild –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
# –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥
make test-uuid  # –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è!

# –ü–†–ê–í–ò–õ–¨–ù–û
# –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥
make test-uuid-rebuild  # –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è!
```

### ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ rebuild –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```bash
# –ù–ï–≠–§–§–ï–ö–¢–ò–í–ù–û
make test-uuid-rebuild  # –ö–∞–∂–¥—ã–π —Ä–∞–∑
make test-uuid-rebuild  # –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
make test-uuid-rebuild  # –ú–µ–¥–ª–µ–Ω–Ω–æ

# –≠–§–§–ï–ö–¢–ò–í–ù–û
make test-uuid-rebuild  # –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
make test-uuid          # –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏
make test-uuid-local    # –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

### ‚ùå –ó–∞–±—ã–≤–∞–µ—Ç–µ –æ—á–∏—Å—Ç–∫—É –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
```bash
# –ü—Ä–∏ —Å—Ç—Ä–∞–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
make clean              # –û—á–∏—Å—Ç–∫–∞
make test-rebuild       # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
```

## üìä –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –û–±—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `make test-uuid` - ~30 —Å–µ–∫—É–Ω–¥
- `make test-api` - ~60 —Å–µ–∫—É–Ω–¥

### Rebuild –∫–æ–º–∞–Ω–¥—ã
- `make test-uuid-rebuild` - ~2-3 –º–∏–Ω—É—Ç—ã
- `make test-api-rebuild` - ~3-4 –º–∏–Ω—É—Ç—ã
- `make test-rebuild` - ~5-7 –º–∏–Ω—É—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `make test-uuid-local` - ~10-15 —Å–µ–∫—É–Ω–¥
- `make dev-test-uuid` - ~5 —Å–µ–∫—É–Ω–¥

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

```bash
# 1. –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ —Ç–µ—Å—Ç–æ–≤?
make test-uuid-rebuild

# 2. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç?
make test-api-rebuild

# 3. –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö?
make logs-test

# 4. –û—Ç—á–µ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è?
make reports

# 5. –ì–æ—Ç–æ–≤–æ –∫ –∫–æ–º–º–∏—Ç—É!
git commit -m "..."
```

---

**–ü–æ–º–Ω–∏—Ç–µ: rebuild –∫–æ–º–∞–Ω–¥—ã - —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤! üîÑ**
